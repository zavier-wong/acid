# this is the build file for project 
# it is autogenerated by the xmake build system.
# do not edit by hand.

# project
cmake_minimum_required(VERSION 3.15.0)
cmake_policy(SET CMP0091 NEW)
project(acid LANGUAGES CXX C)

# target
set(CMAKE_C_COMPILER "/usr/bin/clang")
set(CMAKE_CXX_COMPILER "/usr/bin/clang++")
add_library(acid SHARED "")
set_target_properties(acid PROPERTIES OUTPUT_NAME "acid")
set_target_properties(acid PROPERTIES LIBRARY_OUTPUT_DIRECTORY "${CMAKE_SOURCE_DIR}/build/linux/x86_64/release")
target_include_directories(acid PRIVATE
    .
    dep/yaml-cpp/include
)
target_include_directories(acid INTERFACE
    .
    dep/yaml-cpp/include
)
target_compile_options(acid PRIVATE
    $<$<COMPILE_LANGUAGE:C>:-m64>
    $<$<COMPILE_LANGUAGE:CXX>:-m64>
    $<$<COMPILE_LANGUAGE:C>:-DNDEBUG>
    $<$<COMPILE_LANGUAGE:CXX>:-DNDEBUG>
    $<$<COMPILE_LANGUAGE:CXX>:-Wall>
    $<$<COMPILE_LANGUAGE:CXX>:-Wextra>
)
set_target_properties(acid PROPERTIES CXX_EXTENSIONS OFF)
target_compile_features(acid PRIVATE cxx_std_20)
if(MSVC)
    target_compile_options(acid PRIVATE $<$<CONFIG:Release>:-Ox -fp:fast>)
else()
    target_compile_options(acid PRIVATE -O3)
endif()
if(MSVC)
    set_property(TARGET acid PROPERTY
        MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")
endif()
target_link_options(acid PRIVATE
    -m64
)
target_sources(acid PRIVATE
    source/fiber.cpp
    source/util.cpp
    source/scheduler.cpp
    source/log.cpp
    source/hook.cpp
    source/lexical_cast.cpp
    source/fd_manager.cpp
    source/byte_array.cpp
    source/stream.cpp
    source/thread.cpp
    source/config.cpp
    source/io_manager.cpp
    source/timer.cpp
    source/file_monitor.cpp
    source/net/address.cpp
    source/net/uri.cpp
    source/net/socket_stream.cpp
    source/net/tcp_server.cpp
    source/net/socket.cpp
    source/sync/mutex.cpp
    source/sync/co_condvar.cpp
    source/http/parse.cpp
    source/http/http.cpp
    source/http/servlet.cpp
    source/http/http_server.cpp
    source/http/http_connection.cpp
    source/http/http_session.cpp
    source/raft/raft_node.cpp
    source/raft/raft_log.cpp
    source/raft/unstable.cpp
    source/raft/storage.cpp
    source/raft/raft_peer.cpp
    source/raft/snapshot.cpp
    source/rpc/rpc_service_register.cpp
    source/rpc/rpc_session.cpp
    source/rpc/rpc_server.cpp
    source/rpc/rpc_connection_pool.cpp
    source/rpc/rpc_client.cpp
)

